<section id="testimonials" class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5">Matching profiles</h2>
    <div class="row g-4" *ngIf="candidates">
      <div *ngFor="let item of candidates" class="col-md-6">
        <div class="card border-0 shadow-sm" style="background-color: azure;">
          <div class="card-body">
            <div class="row">
              <!-- Left Column: Image -->
              <div class="col-md-4 d-flex align-items-center">
                <img [src]="item.photoPath" [alt]="item.firstName" class="img-thumbnail w-100 filterImage">
              </div>
              <!-- Right Column: Info -->
              <div class="col-md-8">
                <h6>
                  <a href="#" (click)="openPopup(item); $event.preventDefault(); $event.stopPropagation();">
                    <!-- {{ item.firstName }} {{ item.lastName }} {{item.candidateId}} -->
                    Profile #{{getRandomNumber()}}
                  </a>
                </h6>
                <p><strong>DOB:</strong> {{ item.dob }} </p>
                <p><strong>Age:</strong> {{ item.age }} </p>
                <p><strong>Village/City:</strong> {{ item.villageOrCity }}</p>
                <p><strong>District:</strong> {{ item.district }}</p>
                <p><strong>Contact:</strong> {{ item.maskedContactNumber }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<ng-container *ngIf="selectedCandidateId">
  <app-candidate-details-dialog 
    [candidateId]="selectedCandidateId" 
    (closeDialog)="closePopup()">
  </app-candidate-details-dialog>
</ng-container>